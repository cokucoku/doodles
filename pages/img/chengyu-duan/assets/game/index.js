window.__require=function e(t,o,n){function r(a,i){if(!o[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var p="function"==typeof __require&&__require;if(!i&&p)return p(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var s=o[a]={exports:{}};t[a][0].call(s.exports,function(e){return r(t[a][1][e]||e)},s,s.exports,e,t,o,n)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({Block:[function(e,t,o){"use strict";cc._RF.push(t,"342f5hKGO5H4pi5S5h9b/xS","Block");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Block=void 0;var a=cc._decorator,i=a.ccclass,l=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.correctBg=null,t.wrongBg=null,t.wordLab=null,t.selfWord=null,t}return r(t,e),t.prototype.setWord=function(e){this.selfWord=e,this.wordLab.string=e},t.prototype.appearEffect=function(){cc.tween(this.node).to(.2,{scale:1},{easing:"backOut"}).start()},t.prototype.correctEffect=function(){var e=this;cc.tween(this.node).to(.08,{scale:1.2}).call(function(){e.correctBg.active=!0,e.wordLab.node.color=cc.Color.WHITE}).to(.08,{scale:1}).start()},t.prototype.disappearEffect=function(){cc.tween(this.node).to(.15,{y:this.node.y-80,opacity:0}).removeSelf().start()},t.prototype.wrongEffect=function(){this.wrongBg.active=!0,this.wordLab.node.color=cc.Color.RED,cc.tween(this.node).by(.08,{x:-7}).by(.08,{x:7}).union().repeat(3).start()},c([l({type:cc.Node,tooltip:"\u6b63\u786e\u80cc\u666f"})],t.prototype,"correctBg",void 0),c([l({type:cc.Node,tooltip:"\u9519\u8bef\u80cc\u666f"})],t.prototype,"wrongBg",void 0),c([l({type:cc.Label,tooltip:"\u5b57"})],t.prototype,"wordLab",void 0),c([i],t)}(cc.Component);o.Block=p,cc._RF.pop()},{}],GamePanel:[function(e,t,o){"use strict";cc._RF.push(t,"76f99vbIUNNV68WTPyPgxFF","GamePanel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GamePanel=void 0;var a=e("../config/GameDataCenter"),i=e("../config/GConfig"),l=e("../framework/UIManager"),p=e("../game/src/LevelConfig"),s=cc._decorator,f=s.ccclass,y=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLab=null,t.officialRole=null,t.doormanRole=[],t.upgradeTitle=null,t.upgradeAim=null,t}var o;return r(t,e),o=t,t.prototype.onEnable=function(){cc.systemEvent.on(i.GameEvents.M_Upgrade_Official_Role,this.upgradeOfficialRole,this),cc.systemEvent.on(i.GameEvents.M_Change_Game_Doorman_Role,this.changeDoormanRole,this),cc.systemEvent.on(i.GameEvents.M_Begin_Of_Stop_Time,this.beginOfStopTime,this)},t.prototype.onDisable=function(){cc.systemEvent.off(i.GameEvents.M_Upgrade_Official_Role,this.upgradeOfficialRole,this),cc.systemEvent.off(i.GameEvents.M_Change_Game_Doorman_Role,this.changeDoormanRole,this),cc.systemEvent.off(i.GameEvents.M_Begin_Of_Stop_Time,this.beginOfStopTime,this)},t.prototype.start=function(){a.GameDataCenter.curPanelName="\u6e38\u620f\u9875",cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Game_Start),a.GameDataCenter.isFirstSign&&(a.GameDataCenter.isFirstSign=!1,a.GameDataCenter.isShowSign=!1,a.GameDataCenter.curGameLevel=a.GameDataCenter.historyGameLevel,a.GameDataCenter.curGameLevelIndex=a.GameDataCenter.curGameLevel,l.UIManager.open("levelProgress/LevelProgress")),o.timeCount=90,this.beginOfStopTime(!0),this.changeOfficialRole(),this.changeDoormanRole(),cc.tween(this.officialRole.node.parent).set({y:-295}).to(.3,{y:-195}).start(),console.log("=----======",cc.find("Canvas"))},t.prototype.onClickBackHomeBtn=function(){cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Btn_Click),l.UIManager.close("game/GamePanel",!0),l.UIManager.open("home/HomePanel")},t.prototype.onClickShareTipsBtn=function(){cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Btn_Click),this.tips()},t.prototype.onClickVideoTipsBtn=function(){var e=this;cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Btn_Click),SDK.shipin(function(){e.tips()})},t.prototype.beginOfStopTime=function(e){e?(this.timeLab.string=o.timeCount+"\u79d2",this.schedule(this.timing,1)):this.unschedule(this.timing)},t.prototype.timing=function(){o.timeCount-=1,this.timeLab.string=o.timeCount+"\u79d2",o.timeCount<=10&&cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Warn),o.timeCount<=0&&(this.beginOfStopTime(!1),this.openGamePanel())},t.prototype.openGamePanel=function(){cc.assetManager.getBundle("timeOver")?l.UIManager.open("timeOver/TimeOverPanel"):cc.assetManager.loadBundle("timeOver",function(e){if(e)return console.log("\u52a0\u8f7dtimeOver bundle \u5931\u8d25:",e);l.UIManager.open("timeOver/TimeOverPanel")})},t.prototype.tips=function(){cc.systemEvent.emit(i.GameEvents.M_Fill_Idiom,p.LevelConfig[a.GameDataCenter.curGameLevelIndex].correct)},t.prototype.changeOfficialRole=function(){var e=this;cc.assetManager.getBundle("game").loadDir("res/spine/official_"+a.GameDataCenter.officialRoleGrade,sp.SkeletonData,function(t,o){o[0]&&(e.officialRole.skeletonData=o[0],e.officialRole.defaultSkin=o[0].skeletonJson.skins[0].name,e.officialRole.animation="idle")})},t.prototype.changeDoormanRole=function(){var e=this,t=cc.assetManager.getBundle("common");t.loadDir("res/spine/doorman_"+a.GameDataCenter.doormanRoleGrade.left,sp.SkeletonData,function(t,o){o[0]&&(e.doormanRole[0].skeletonData=o[0],e.doormanRole[0].defaultSkin=o[0].skeletonJson.skins[0].name,e.doormanRole[0].animation="idle")}),t.loadDir("res/spine/doorman_"+a.GameDataCenter.doormanRoleGrade.right,sp.SkeletonData,function(t,o){o[0]&&(e.doormanRole[1].skeletonData=o[0],e.doormanRole[1].defaultSkin=o[0].skeletonJson.skins[0].name,e.doormanRole[1].animation="idle")})},t.prototype.upgradeOfficialRole=function(){for(var e=this,t=4;t>=0;t--)this.upgradeTitle.children[t].opacity=0;var o=cc.instantiate(this.upgradeAim);o.y=-385,o.active=!1,o.parent=this.node,this.scheduleOnce(function(){cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Upgrade),cc.tween(e.upgradeTitle).set({active:!0,opacity:255}).call(function(){cc.tween(e.upgradeTitle.getChildByName("frame")).set({scaleY:.5}).to(.3,{scaleY:1,opacity:150},{easing:"backOut"}).start();for(var t=1;t<e.upgradeTitle.childrenCount;t++)cc.tween(e.upgradeTitle.children[t]).set({y:-50}).delay(.05*(t-1)).to(.5,{y:0,opacity:255},{easing:"backOut"}).start()}).call(function(){o.active=!0,e.changeOfficialRole()}).delay(.7).to(.5,{opacity:0},{easing:"sineOut"}).call(function(){o.destroy()}).set({active:!1}).start()},.3)},t.timeCount=90,c([y({type:cc.Label,tooltip:"\u8ba1\u65f6\u6587\u672c"})],t.prototype,"timeLab",void 0),c([y({type:sp.Skeleton,tooltip:"\u5b98\u4eba\u89d2\u8272"})],t.prototype,"officialRole",void 0),c([y({type:sp.Skeleton,tooltip:"\u95e8\u5ba2"})],t.prototype,"doormanRole",void 0),c([y({type:cc.Node,tooltip:"\u5347\u7ea7\u6a2a\u5e45"})],t.prototype,"upgradeTitle",void 0),c([y({type:cc.Prefab,tooltip:"\u5347\u7ea7\u52a8\u753b"})],t.prototype,"upgradeAim",void 0),o=c([f],t)}(cc.Component);o.GamePanel=u,cc._RF.pop()},{"../config/GConfig":void 0,"../config/GameDataCenter":void 0,"../framework/UIManager":void 0,"../game/src/LevelConfig":"LevelConfig"}],LevelConfig:[function(e,t,o){"use strict";cc._RF.push(t,"bffea2KI+ZAl76v4ZeVB+k1","LevelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfig=void 0,o.LevelConfig=[{levelType:3,word:"\u4e0d\u8bc6\u5e90\u5c71\u771f\u9762\u76ee,(\u4e0b\u4e00\u53e5)",vacancy:1,correct:"\u53ea\u7f18\u8eab\u5728\u6b64\u5c71\u4e2d",wrong:"\u53ea\u7f18\u8eab\u5728\u6700\u9ad8\u5c42"},{levelType:1,word:"\u59cb\u7ec8\u4e0d\u6e1d",vacancy:3,correct:"\u6e1d",wrong:"\u903e"},{levelType:3,word:"(\u4e0a\u4e00\u53e5),\u5e74\u5e74\u77e5\u4e3a\u8c01\u751f",vacancy:1,correct:"\u5ff5\u6865\u8fb9\u7ea2\u836f",wrong:"\u4e8c\u5341\u56db\u6865\u4ecd\u5728"},{levelType:1,word:"\u5bd2\u51ac\u814a\u6708",vacancy:2,correct:"\u814a",wrong:"\u8721"},{levelType:3,word:"\u62bd\u5200\u65ad\u6c34\u6c34\u66f4\u6d41,(\u4e0b\u4e00\u53e5)",vacancy:1,correct:"\u4e3e\u676f\u6d88\u6101\u6101\u66f4\u6101",wrong:"\u4e3e\u676f\u6d88\u6101\u6101\u53c8\u6101"},{levelType:2,word:"\u5faa\u89c4\u8e48\u77e9",vacancy:3,correct:"j\u01d4",wrong:"j\xf9"},{levelType:2,word:"\u6a21\u6837",vacancy:0,correct:"m\xfa",wrong:"m\xf3"},{levelType:1,word:"\u8702\u62e5\u800c\u81f3",vacancy:1,correct:"\u62e5",wrong:"\u6d8c"},{levelType:1,word:"\u7ec6\u679d\u672b\u8282",vacancy:3,correct:"\u8282",wrong:"\u622a"},{levelType:1,word:"\u8840\u6c14\u65b9\u521a",vacancy:3,correct:"\u521a",wrong:"\u94a2"},{levelType:2,word:"\u5ba1\u5ea6",vacancy:1,correct:"du\xf3",wrong:"d\xf9"},{levelType:2,word:"\u9732\u602f",vacancy:0,correct:"l\xf2u",wrong:"l\xf9"},{levelType:1,word:"\u5f87\u79c1\u821e\u5f0a",vacancy:0,correct:"\u5f87",wrong:"\u5faa"},{levelType:1,word:"\u6773\u65e0\u97f3\u4fe1",vacancy:0,correct:"\u6773",wrong:"\u6c93"},{levelType:1,word:"\u8000\u6b66\u626c\u5a01",vacancy:2,correct:"\u626c",wrong:"\u6602"},{levelType:1,word:"\u4e00\u89c1\u949f\u60c5",vacancy:2,correct:"\u949f",wrong:"\u7ec8"},{levelType:1,word:"\u8863\u9526\u8fd8\u4e61",vacancy:1,correct:"\u9526",wrong:"\u5dfe"},{levelType:1,word:"\u5f15\u4ee5\u4e3a\u8363",vacancy:0,correct:"\u5f15",wrong:"\u9690"},{levelType:1,word:"\u7531\u6d45\u5165\u6df1",vacancy:0,correct:"\u7531",wrong:"\u72b9"},{levelType:1,word:"\u6e38\u624b\u597d\u95f2",vacancy:3,correct:"\u95f2",wrong:"\u5acc"},{levelType:1,word:"\u8bed\u65e0\u4f26\u6b21",vacancy:2,correct:"\u4f26",wrong:"\u8f6e"},{levelType:1,word:"\u5728\u52ab\u96be\u9003",vacancy:0,correct:"\u5728",wrong:"\u518d"},{levelType:1,word:"\u4eba\u624d\u8f88\u51fa",vacancy:2,correct:"\u8f88",wrong:"\u500d"},{levelType:1,word:"\u5047\u624b\u4e8e\u4eba",vacancy:2,correct:"\u4e8e",wrong:"\u4e0e"},{levelType:1,word:"\u5473\u540c\u56bc\u8721",vacancy:3,correct:"\u8721",wrong:"\u814a"},{levelType:1,word:"\u9999\u6d88\u7389\u6b92",vacancy:3,correct:"\u6b92",wrong:"\u9668"},{levelType:1,word:"\u5fc3\u672f\u4e0d\u6b63",vacancy:1,correct:"\u672f",wrong:"\u6570"},{levelType:1,word:"\u4fe1\u53e3\u96cc\u9ec4",vacancy:3,correct:"\u9ec4",wrong:"\u7687"},{levelType:1,word:"\u79c0\u5916\u6167\u4e2d",vacancy:2,correct:"\u6167",wrong:"\u8559"},{levelType:1,word:"\u82b1\u56e2\u9526\u7c07",vacancy:2,correct:"\u9526",wrong:"\u7d27"},{levelType:1,word:"\u753b\u5730\u4e3a\u7262",vacancy:0,correct:"\u753b",wrong:"\u5212"},{levelType:1,word:"\u5782\u5934\u4e27\u6c14",vacancy:3,correct:"\u6c14",wrong:"\u5f03"},{levelType:1,word:"\u5f25\u5929\u5927\u8c0e",vacancy:0,correct:"\u5f25",wrong:"\u8ff7"},{levelType:1,word:"\u6d51\u7136\u4e00\u4f53",vacancy:0,correct:"\u6d51",wrong:"\u6df7"},{levelType:1,word:"\u6025\u4e0d\u53ef\u8010",vacancy:3,correct:"\u8010",wrong:"\u5948"},{levelType:1,word:"\u89c1\u673a\u884c\u4e8b",vacancy:1,correct:"\u673a",wrong:"\u8ba1"},{levelType:1,word:"\u91d1\u78a7\u8f89\u714c",vacancy:1,correct:"\u78a7",wrong:"\u58c1"},{levelType:1,word:"\u7ef5\u91cc\u85cf\u9488",vacancy:0,correct:"\u7ef5",wrong:"\u68c9"},{levelType:1,word:"\u5174\u5e08\u52a8\u4f17",vacancy:3,correct:"\u4f17",wrong:"\u91cd"},{levelType:1,word:"\u8f69\u7136\u5927\u6ce2",vacancy:0,correct:"\u8f69",wrong:"\u55a7"},{levelType:1,word:"\u55a7\u5bbe\u593a\u4e3b",vacancy:0,correct:"\u55a7",wrong:"\u5ba3"},{levelType:1,word:"\u5b66\u65e0\u6b62\u5883",vacancy:3,correct:"\u5883",wrong:"\u5f84"},{levelType:1,word:"\u6267\u8ff7\u4e0d\u609f",vacancy:0,correct:"\u6267",wrong:"\u76f4"},{levelType:1,word:"\u8d70\u6295\u65e0\u8def",vacancy:1,correct:"\u6295",wrong:"\u5934"},{levelType:1,word:"\u8d22\u8ff7\u5fc3\u7a8d",vacancy:3,correct:"\u7a8d",wrong:"\u7a83"},{levelType:1,word:"\u5b89\u8d2b\u4e50\u9053",vacancy:3,correct:"\u9053",wrong:"\u5230"},{levelType:1,word:"\u65e0\u53ef\u5948\u4f55",vacancy:2,correct:"\u5948",wrong:"\u8010"}],cc._RF.pop()},{}],LevelManager:[function(e,t,o){"use strict";cc._RF.push(t,"58449W/8h5GAZy5f7NTo07B","LevelManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelManager=void 0;var a=e("../../config/GameDataCenter"),i=e("../../config/GConfig"),l=e("../../framework/Random"),p=e("./Block"),s=e("./LevelConfig"),f=e("./PinyinBlock"),y=e("./PoetryBlock"),u=e("./SelectBlock"),v=cc._decorator,d=v.ccclass,g=v.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLayer=null,t.selectLayer=null,t.blockPre=null,t.pinyinBlockPre=null,t.poetryBlockPre=null,t.selectBlockPre=null,t}var o;return r(t,e),o=t,t.prototype.onEnable=function(){cc.systemEvent.on(i.GameEvents.M_Init_Level,this.initLevel,this)},t.prototype.onDisable=function(){cc.systemEvent.off(i.GameEvents.M_Init_Level,this.initLevel,this)},t.prototype.start=function(){this.initLevel()},t.prototype.initLevel=function(){0!=this.titleLayer.childrenCount&&this.titleLayer.removeAllChildren(),0!=this.selectLayer.childrenCount&&this.selectLayer.removeAllChildren(),o.blockCtrArr=[],o.selectBlockCtrArr=[];var e=s.LevelConfig[a.GameDataCenter.curGameLevelIndex];if(!e){if(0==a.GameDataCenter.levelBackups.length)for(var t=0;t<s.LevelConfig.length;t++)a.GameDataCenter.levelBackups.push(t);var n=l.Random.randomNumber(0,a.GameDataCenter.levelBackups.length-1),r=a.GameDataCenter.levelBackups[n];e=s.LevelConfig[r],a.GameDataCenter.levelBackups.splice(n,1),a.GameDataCenter.curGameLevelIndex=r}switch(e.levelType){case 1:this.idiomInit(e);break;case 2:this.pinyinInit(e);break;case 3:this.poetryInit(e)}},t.prototype.idiomInit=function(e){for(var t=0,n=function(n){var c=cc.instantiate(r.blockPre);c.x=160*n-240,c.y=400,c.scale=0,c.parent=r.titleLayer;var a=n!=e.vacancy?e.word[n]:" ",i=c.getComponent(p.Block);i.setWord(a)," "===a&&(o.vacancyBlock=c),o.blockCtrArr.push(i),r.scheduleOnce(function(){i.appearEffect()},t),t+=.05},r=this,c=0;c<e.word.length;c++)n(c);this.creterSelectBlock(e)},t.prototype.pinyinInit=function(e){for(var t=0,n=function(n){var c=cc.instantiate(r.blockPre);c.x=-80*(e.word.length-1)+160*n,c.y=400,c.scale=0,c.parent=r.titleLayer;var a=e.word[n],i=c.getComponent(p.Block);if(i.setWord(a),r.scheduleOnce(function(){i.appearEffect()},t),t+=.05,o.blockCtrArr.push(i),n==e.vacancy){var l=cc.instantiate(r.pinyinBlockPre);l.x=0,l.y=55,l.scale=0,l.parent=c,o.vacancyBlock=l;var s=l.getComponent(f.PinyinBlock);s.appearEffect(),o.blockCtrArr.push(s)}},r=this,c=0;c<e.word.length;c++)n(c);this.creterSelectBlock(e)},t.prototype.poetryInit=function(e){var t=cc.instantiate(this.poetryBlockPre);t.y=400,t.scale=0,t.parent=this.titleLayer,o.vacancyBlock=t;var n={word:e.word},r=t.getComponent(y.PoetryBlock);r.setData(n),r.appearEffect(),o.blockCtrArr.push(r),this.creterSelectBlock(e)},t.prototype.creterSelectBlock=function(e){for(var t=l.Random.randomNumber(0,1),n=0;n<2;n++){var r=cc.instantiate(this.selectBlockPre);r.x=n?180:-180,r.y=250;var c=n==t?e.wrong:e.correct;3==e.levelType?(r.width=42*c.length,r.height=68):2==e.levelType?(r.width=c.length>2?120+30*(c.length-2):120,r.height=78):(r.width=120,r.height=78),r.scale=0,r.parent=this.selectLayer;var a={word:c,posY:3==e.levelType?35:40,fontSize:3==e.levelType?36:62},i=r.getComponent(u.SelectBlock);i.setData(a),i.appearEffect(),o.selectBlockCtrArr.push(i)}},t.blockCtrArr=[],t.selectBlockCtrArr=[],t.vacancyBlock=null,c([g({type:cc.Node,tooltip:"\u9898\u76ee\u5c42"})],t.prototype,"titleLayer",void 0),c([g({type:cc.Node,tooltip:"\u9009\u62e9\u5c42"})],t.prototype,"selectLayer",void 0),c([g({type:cc.Prefab,tooltip:"\u5b57\u5757\u9884\u5236\u4f53"})],t.prototype,"blockPre",void 0),c([g({type:cc.Prefab,tooltip:"\u62fc\u97f3\u5b57\u5757\u9884\u5236\u4f53"})],t.prototype,"pinyinBlockPre",void 0),c([g({type:cc.Prefab,tooltip:"\u8bd7\u8bcd\u5b57\u5757\u9884\u5236\u4f53"})],t.prototype,"poetryBlockPre",void 0),c([g({type:cc.Prefab,tooltip:"\u9009\u62e9\u5b57\u5757\u9884\u5236\u4f53"})],t.prototype,"selectBlockPre",void 0),o=c([d],t)}(cc.Component);o.LevelManager=h,cc._RF.pop()},{"../../config/GConfig":void 0,"../../config/GameDataCenter":void 0,"../../framework/Random":void 0,"./Block":"Block","./LevelConfig":"LevelConfig","./PinyinBlock":"PinyinBlock","./PoetryBlock":"PoetryBlock","./SelectBlock":"SelectBlock"}],PinyinBlock:[function(e,t,o){"use strict";cc._RF.push(t,"aa1eaqAB7JMUo35k41aVEma","PinyinBlock");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PinyinBlock=void 0;var a=cc._decorator,i=a.ccclass,l=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.correctBg=null,t.wordLab=null,t}return r(t,e),t.prototype.appearEffect=function(){cc.tween(this.node).to(.2,{scale:1},{easing:"backOut"}).start()},t.prototype.correctEffect=function(){var e=this;cc.tween(this.node).to(.08,{scale:1.2}).call(function(){e.correctBg.active=!0,e.wordLab.node.color=cc.Color.WHITE}).to(.08,{scale:1}).start()},t.prototype.disappearEffect=function(){cc.tween(this.node).to(.15,{y:this.node.y-80,opacity:0}).removeSelf().start()},t.prototype.wrongEffect=function(){this.wordLab.node.color=cc.Color.RED},c([l({type:cc.Node,tooltip:"\u6b63\u786e\u80cc\u666f"})],t.prototype,"correctBg",void 0),c([l({type:cc.Label,tooltip:"\u5b57"})],t.prototype,"wordLab",void 0),c([i],t)}(cc.Component);o.PinyinBlock=p,cc._RF.pop()},{}],PoetryBlock:[function(e,t,o){"use strict";cc._RF.push(t,"73668crJNdMwoxbolHNStF3","PoetryBlock");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PoetryBlock=void 0;var a=cc._decorator,i=a.ccclass,l=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordLab=null,t.selfWord=null,t}return r(t,e),t.prototype.setData=function(e){this.selfWord=e.word,this.wordLab.string=e.word},t.prototype.appearEffect=function(){cc.tween(this.node).to(.2,{scale:1},{easing:"backOut"}).start()},t.prototype.correctEffect=function(){var e=this;cc.tween(this.node).to(.08,{scale:1.2}).call(function(){e.wordLab.node.color=cc.Color.GREEN}).to(.08,{scale:1}).start()},t.prototype.disappearEffect=function(){cc.tween(this.node).to(.15,{y:this.node.y-80,opacity:0}).removeSelf().start()},t.prototype.wrongEffect=function(){this.wordLab.node.color=cc.Color.RED,cc.tween(this.node).by(.08,{x:-7}).by(.08,{x:7}).union().repeat(3).start()},c([l({type:cc.Label,tooltip:"\u5b57"})],t.prototype,"wordLab",void 0),c([i],t)}(cc.Component);o.PoetryBlock=p,cc._RF.pop()},{}],SelectBlock:[function(e,t,o){"use strict";cc._RF.push(t,"69ed8pOoItHzY8alq7vrp+N","SelectBlock");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectBlock=void 0;var a=e("../../config/GConfig"),i=cc._decorator,l=i.ccclass,p=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wordLab=null,t.selfWord=null,t.isClicked=!1,t}return r(t,e),t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnded,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnded,this)},t.prototype.onTouchEnded=function(){this.isClicked||(this.isClicked=!0,cc.systemEvent.emit(a.GameEvents.M_Fill_Idiom,this.selfWord))},t.prototype.setData=function(e){this.selfWord=e.word,this.wordLab.node.y=e.posY,this.wordLab.fontSize=e.fontSize,this.wordLab.string=e.word},t.prototype.appearEffect=function(){cc.tween(this.node).to(.2,{scale:1},{easing:"backOut"}).start()},t.prototype.disappearEffect=function(){cc.tween(this.node).to(.1,{scale:1.1}).to(.2,{scale:0},{easing:"backIn"}).removeSelf().start()},c([p({type:cc.Label,tooltip:"\u5b57"})],t.prototype,"wordLab",void 0),c([l],t)}(cc.Component);o.SelectBlock=s,cc._RF.pop()},{"../../config/GConfig":void 0}],SelectLayer:[function(e,t,o){"use strict";cc._RF.push(t,"e6aa0nROjJKxYu8HZ21R8ij","SelectLayer");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectLayer=void 0;var a=cc._decorator,i=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),c([i],t)}(cc.Component));o.SelectLayer=l,cc._RF.pop()},{}],TitleLayer:[function(e,t,o){"use strict";cc._RF.push(t,"8e9dblZkl1Mu6C/vegeniS2","TitleLayer");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TitleLayer=void 0;var a=e("../../config/GameDataCenter"),i=e("../../config/GConfig"),l=e("../../framework/UIManager"),p=e("./LevelConfig"),s=e("./LevelManager"),f=cc._decorator,y=f.ccclass,u=(f.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){cc.systemEvent.on(i.GameEvents.M_Fill_Idiom,this.fillIdiom,this)},t.prototype.onDisable=function(){cc.systemEvent.off(i.GameEvents.M_Fill_Idiom,this.fillIdiom,this)},t.prototype.fillIdiom=function(e){if(3==p.LevelConfig[a.GameDataCenter.curGameLevelIndex].levelType){var t=s.LevelManager.vacancyBlock.getChildByName("word").getComponent(cc.Label).string,o=null;-1!=t.indexOf("(\u4e0a\u4e00\u53e5)")?o="(\u4e0a\u4e00\u53e5)":-1!=t.indexOf("(\u4e0b\u4e00\u53e5)")&&(o="(\u4e0b\u4e00\u53e5)"),t=t.replace(o,e),s.LevelManager.vacancyBlock.getChildByName("word").getComponent(cc.Label).string=t}else s.LevelManager.vacancyBlock.getChildByName("word").getComponent(cc.Label).string=e;e==p.LevelConfig[a.GameDataCenter.curGameLevelIndex].correct?this.fillSuccess():this.fillFail()},t.prototype.fillSuccess=function(){var e=this;cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Correct);for(var t=0,o=function(o){n.scheduleOnce(function(){s.LevelManager.blockCtrArr[o].correctEffect(),o==s.LevelManager.blockCtrArr.length-1&&e.disappear()},t),t+=.05},n=this,r=0;r<s.LevelManager.blockCtrArr.length;r++)o(r);this.selectBlockDisappear()},t.prototype.disappear=function(){for(var e=this,t=.2,o=function(o){n.scheduleOnce(function(){s.LevelManager.blockCtrArr[o].disappearEffect(),o==s.LevelManager.blockCtrArr.length-1&&e.gameRoundeEnd(!0)},t),t+=.1},n=this,r=0;r<s.LevelManager.blockCtrArr.length;r++)o(r)},t.prototype.fillFail=function(){var e=this;cc.systemEvent.emit(i.GameEvents.S_Play_Sound,i.GameSounds.S_Wrong);for(var t=0;t<s.LevelManager.blockCtrArr.length;t++)s.LevelManager.blockCtrArr[t].wrongEffect();this.selectBlockDisappear(),this.scheduleOnce(function(){e.gameRoundeEnd(!1)},.8)},t.prototype.selectBlockDisappear=function(){for(var e=0;e<s.LevelManager.selectBlockCtrArr.length;e++)s.LevelManager.selectBlockCtrArr[e].disappearEffect()},t.prototype.gameRoundeEnd=function(e){s.LevelManager.blockCtrArr=[],s.LevelManager.selectBlockCtrArr=[],s.LevelManager.vacancyBlock=null,e?this.gameWin():this.gameFail()},t.prototype.gameWin=function(){return-1!=i.unlockOfficialLevel.indexOf(a.GameDataCenter.curGameLevel+1)?(cc.systemEvent.emit(i.GameEvents.M_Begin_Of_Stop_Time,!1),void l.UIManager.open("unlock/OfficialUnlockPanel")):-1!=i.unlockDoormanLevel.indexOf(a.GameDataCenter.curGameLevel+1)?(cc.systemEvent.emit(i.GameEvents.M_Begin_Of_Stop_Time,!1),void l.UIManager.open("unlock/DoormanUnlockPanel")):void this.scheduleOnce(function(){a.GameDataCenter.curGameLevel++,a.GameDataCenter.curGameLevelIndex=a.GameDataCenter.curGameLevel,cc.systemEvent.emit(i.GameEvents.M_Init_Level),cc.systemEvent.emit(i.GameEvents.M_Updata_Level_Progress)},.2)},t.prototype.gameFail=function(){cc.systemEvent.emit(i.GameEvents.M_Begin_Of_Stop_Time,!1),cc.assetManager.getBundle("fail")?l.UIManager.open("fail/FailPanel"):cc.assetManager.loadBundle("fail",function(e){if(e)return console.log("\u52a0\u8f7dfail bundle \u5931\u8d25:",e);l.UIManager.open("fail/FailPanel")})},c([y],t)}(cc.Component));o.TitleLayer=u,cc._RF.pop()},{"../../config/GConfig":void 0,"../../config/GameDataCenter":void 0,"../../framework/UIManager":void 0,"./LevelConfig":"LevelConfig","./LevelManager":"LevelManager"}]},{},["GamePanel","Block","LevelConfig","LevelManager","PinyinBlock","PoetryBlock","SelectBlock","SelectLayer","TitleLayer"]);